jQuery(document).ready(function(n){"use strict";var a=[],i=0,s=0,e=60;n("body").on("ns_btns_fixed",function(){n(".ns_btn-fixed").length<=0&&n("body").append('<div class="ns_btn-fixed nasa-flex"></div>');var a=!1;if(n(".nasa-single-product-in-mobile .single_add_to_cart_button").length){if(n(".ns_btn-fixed").find(".single_add_to_cart_button").length<=0){var i=n(".nasa-single-product-in-mobile .single_add_to_cart_button").text();n(".ns_btn-fixed").append('<a href="javascript:void(0);" class="single_add_to_cart_button button">'+i+"</a>")}a=!0}if(n(".nasa-single-product-in-mobile .nasa-buy-now").length){if(n(".ns_btn-fixed").find(".nasa-buy-now").length<=0){var i=n(".nasa-single-product-in-mobile .nasa-buy-now").text();n(".ns_btn-fixed").append('<a href="javascript:void(0);" class="nasa-buy-now button">'+i+"</a>")}a=!0}if(a){var s=n(".ns_btn-fixed").outerHeight();n("body").css({"padding-bottom":s})}}).trigger("ns_btns_fixed"),n("body").on("click",".ns_btn-fixed .single_add_to_cart_button, .ns-open-var-form",function(){if(n(".nasa-single-product-in-mobile form.cart").length){var a=n(".nasa-single-product-in-mobile form.cart"),i=n(a).find(".single_add_to_cart_button");n("body").trigger("slick_go_to_0",[n(".main-images")]),n(a).hasClass("variations_form")?n(a).hasClass("ns-show")||(n(a).addClass("ns-show ns_add_to_cart_button_show"),n(".black-window").fadeIn(200).addClass("desk-window"),n("body").hasClass("ovhd")||n("body").addClass("ovhd")):n(i).length&&(n(".ns_btn-fixed .single_add_to_cart_button").length&&n(".ns_btn-fixed .single_add_to_cart_button").each(function(){var a=n(this);n(a).hasClass("loading")||n(a).addClass("loading")}),n(i).trigger("click"))}}),n("body").on("click",".ns_btn-fixed .nasa-buy-now",function(){if(n(".nasa-single-product-in-mobile form.cart").length){var a=n(this);n(a).hasClass("loading")||n(a).addClass("loading");var i=n(".nasa-single-product-in-mobile form.cart"),s=n(i).find(".nasa-buy-now");n("body").trigger("slick_go_to_0",[n(".main-images")]),n(i).hasClass("variations_form")?n(i).hasClass("ns-show")||(n(i).addClass("ns-show ns_buy_now_button_show"),n(a).removeClass("loading"),n(".black-window").fadeIn(200).addClass("desk-window"),n("body").hasClass("ovhd")||n("body").addClass("ovhd")):n(s).length&&n(s).trigger("click")}}),n("body").on("click",".btn-add-new-review ",function(){if(n(".nasa-single-product-in-mobile #review_form_wrapper").length){var a=n(".nasa-single-product-in-mobile #review_form_wrapper");n(a).hasClass("ns-show")||(n(a).addClass("ns-show"),n(".black-window").fadeIn(200).addClass("desk-window"),n("body").hasClass("ovhd")||n("body").addClass("ovhd"))}}),n("body").on("ns_hide_simple_cart_form",function(){n(".nasa-single-product-in-mobile form.cart").length&&n(".nasa-single-product-in-mobile form.cart").find('input[name="data-type"]').length&&"simple"===n(".nasa-single-product-in-mobile form.cart").find('input[name="data-type"]').val()&&(n(".nasa-single-product-in-mobile form.cart").find(".wcpa_form_outer").length?n(".nasa-single-product-in-mobile form.cart").find(">*").each(function(){n(this).hasClass("wcpa_form_outer")||n(this).hide()}):n(".nasa-single-product-in-mobile form.cart").hide())}).trigger("ns_hide_simple_cart_form"),n("body").on("ns_ppc_woo",function(){var a=n(".nasa-single-product-in-mobile form.cart");if(n(a).length&&(n("#ppcp-messages").length||n(".ppc-button-wrapper").length)){if(n(".ns-ppc-wrap").length<=0&&n(a).after('<div class="ns-ppc-wrap ns-begin-wrap nasa-crazy-box"></div>'),n("#ppcp-messages").length){var i=n("#ppcp-messages");n(".ns-ppc-wrap").append(i)}if(n(".ppc-button-wrapper").length){var s=n(".ppc-button-wrapper");n(".ns-ppc-wrap").append(s)}}}).trigger("ns_ppc_woo"),n("body").on("ns_add_nasa_price_loading",function(a,i){var s=null,e=null,o=null,t=null;if(n(i).find(".ns-form-info .ns-info-wrap").length<=0&&n(i).find(".ns-form-info").append('<div class="ns-info-wrap"></div>'),n(i).find(".ns-form-info .ns-info-wrap").html(""),n(i).find(".ns-form-info .ns-info-wrap .ns-price-wrap").length<=0&&n(i).find(".ns-form-info .ns-info-wrap").append('<div class="ns-price-wrap"></div>'),n(".nasa-single-product-in-mobile .price.nasa-single-product-price").length&&(n(".nasa-single-product-in-mobile .price.nasa-single-product-price").hasClass("org-price")||n(".nasa-single-product-in-mobile .price.nasa-single-product-price").addClass("org-price"),s=n(".nasa-single-product-in-mobile .price.nasa-single-product-price").clone(),n(s).removeClass("nasa-single-product-price")),s&&n(i).find(".ns-form-info .ns-price-wrap").append(s),n(i).find(".ns-info-variants .single_variation_wrap .woocommerce-variation-price .price").length?e=n(i).find(".ns-info-variants .single_variation_wrap .woocommerce-variation-price .price").html():n(".nasa-single-product-in-mobile .nasa-bulk-price").length&&(e=n(".nasa-single-product-in-mobile .nasa-bulk-price").html()),e&&(o='<p class="price nasa-bulk-price">'+e+"</p>",n(".nasa-single-product-in-mobile .nasa-bulk-price").length<=0?n(".nasa-single-product-in-mobile .nasa-single-product-price").after(o):n(".nasa-single-product-in-mobile .nasa-bulk-price").replaceWith(o),t='<p class="price sub-price sub-price-2nd">'+e+"</p>",n(i).find(".ns-form-info .sub-price.sub-price-2nd").length<=0?n(i).find(".ns-form-info .ns-price-wrap").append(t):n(i).find(".ns-form-info .sub-price.sub-price-2nd").replaceWith(t),n(".price.org-price").hide()),n(i).find(".ns-info-variants .single_variation_wrap .woocommerce-variation-availability").length){var r=n(i).find(".ns-info-variants .single_variation_wrap .woocommerce-variation-availability ").html();r&&n(i).find(".ns-form-info .ns-info-wrap .stock").length<=0&&n(i).find(".ns-form-info .ns-info-wrap").append(r)}}),n("body").on("ns_add_nasa_img_loading",function(i,s){var e=null;if(n('.nasa-single-product-in-mobile .main-images .nasa-item-main-image-wrap[data-key="0"] img').length&&(e=n('.nasa-single-product-in-mobile .main-images .item-wrap:not(.slick-cloned) .nasa-item-main-image-wrap[data-key="0"] img').clone()),e){n(s).find(".ns-form-info").length<=0&&n(s).prepend('<div class="ns-form-info nasa-flex align-start margin-bottom-20"></div>');var o=n(e).attr("src");if(n(s).find(".ns-form-info .main_min_img").length<=0&&n(s).find(".ns-form-info").prepend('<div class="main_min_img"></div>'),-1!==n.inArray(o,a))n(s).find(".ns-form-info .main_min_img").html(""),n("body").hasClass("product-zoom")&&n(s).find(".ns-form-info .main_min_img").html('<a class="ns-popup-img" href="javascript:void(0);"><svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24" width="20" height="20"><path d="M3,20V12a1,1,0,0,1,2,0v5.585L17.586,5H12a1,1,0,0,1,0-2h8a1,1,0,0,1,1,1v8a1,1,0,0,1-2,0V6.414L6.414,19H12a1,1,0,0,1,0,2H4A1,1,0,0,1,3,20Z"></path></svg></a>'),n(s).find(".ns-form-info .main_min_img").append(e),n(s).find(".ns-form-info .main_min_img").removeClass("nasa-img-loading");else{n(s).find(".ns-form-info .main_min_img").hasClass("nasa-img-loading")||n(s).find(".ns-form-info .main_min_img").addClass("nasa-img-loading");var t=setInterval(function(){var i=e.attr("src"),r=new Image;r.src=i,r.onload=function(){n(s).find(".ns-form-info .main_min_img").removeClass("nasa-img-loading"),n(s).find(".ns-form-info .main_min_img").html(""),n("body").hasClass("product-zoom")&&n(s).find(".ns-form-info .main_min_img").html('<a class="ns-popup-img" href="javascript:void(0);"><svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24" width="20" height="20"><path d="M3,20V12a1,1,0,0,1,2,0v5.585L17.586,5H12a1,1,0,0,1,0-2h8a1,1,0,0,1,1,1v8a1,1,0,0,1-2,0V6.414L6.414,19H12a1,1,0,0,1,0,2H4A1,1,0,0,1,3,20Z"></path></svg></a>'),n(s).find(".ns-form-info .main_min_img").append(e),a.push(o),clearInterval(t)}},1e3)}}}),n("body").on("ns_variation_form_fixed",function(){if(n(".nasa-single-product-in-mobile form.cart.variations_form").length){n("body").trigger("ns_before_variation_form_fixed");var a=n(".nasa-single-product-in-mobile form.cart.variations_form");if(n(a).find(".ns-form-close").length<=0&&n(a).append('<a class="ns-form-close nasa-stclose" href="javascript:void(0);"></a>'),n(a).find(".ns-form-info").length<=0&&n(a).prepend('<div class="ns-form-info nasa-flex align-start margin-bottom-20"></div>'),n(a).find(".ns-form-info .ns-info-wrap").length<=0&&n(a).find(".ns-form-info").append('<div class="ns-info-wrap"></div>'),n(a).find(".ns-form-info .ns-info-wrap .ns-price-wrap").length<=0&&n(a).find(".ns-form-info .ns-info-wrap").append('<div class="ns-price-wrap"></div>'),n("body").trigger("ns_add_nasa_img_loading",[a]),n("body").trigger("ns_add_nasa_price_loading",[a]),n(".nasa-single-product-in-mobile .nasa-wrap-popup-nodes .nasa-size-guide").length){var i=n(".nasa-single-product-in-mobile .nasa-wrap-popup-nodes .nasa-size-guide .nasa-node-popup").clone();i&&n(a).find(".ns-info-variants .nasa-node-popup").length<=0&&(i.text(i.text().trim()),n(a).find("table.variations tbody tr:last-child .label").append(i))}if(n(a).find(".ns-info-btns .variations_button").length<=0){n(a).find(".ns-info-btns").length<=0&&n(a).append('<div class="ns-info-btns"></div>');var s=n(a).find(".variations_button");if(n(s).length&&n(a).find(".ns-info-btns").append(s),n(a).find(".ns-info-btns .wcpa_form_outer").length){var e=n(a).find(".ns-info-btns .wcpa_form_outer");n(a).find(".ns-info-variants").length?n(a).find(".ns-info-variants").append(e):n(a).find(".ns-info-btns").before(e)}}if(n(".ns-ppc-wrap").length){var o=n(".ns-ppc-wrap");n(a).find(".ns-info-variants").length?n(a).find(".ns-info-variants").append(o):n(a).find(".ns-info-btns").before(o)}n("body").trigger("ns_variants_clone_render",[a]),n("body").trigger("ns_after_variation_form_fixed")}}).trigger("ns_variation_form_fixed"),n("body").on("ns_variants_clone_render",function(a,i){n(".ns-variants-first").length<=0&&n(i).before('<div class="ns-begin-wrap ns-variants-first"></div>');var s="";n(i).find(".variations tr:first-child").each(function(){var a=n(this),i=n(a).find("th.label").length?n(a).find("th.label").clone():null;n(i).find(".nasa-node-popup").length&&n(i).find(".nasa-node-popup").remove(),s+=null!==i?'<div class="ns-variant-lbl">'+n(i).html()+"</div>":"";var e=n(a).find("td.value").length?n(a).find("td.value").clone():null;null!==e&&(n(e).find(".reset_variations").length&&n(e).find(".reset_variations").remove(),n(e).find("[id]").length&&n(e).find("[id]").removeAttr("id"),n(e).find(">select").length&&n(".ns-variants-first").addClass("nasa-attribute-select"),s+='<div class="ns-variant-val">'+n(e).html()+"</div>")}),""!==s&&n(".ns-variants-first").html('<div class="ns-variants-clone"><a href="javascript:void(0);" class="ns-open-var-form"></a>'+s+"</div>")}),n("body").on("nasa_changed_gallery_variable_single nasa_after_changed_src_main_img",function(){var a=n(".nasa-single-product-in-mobile form.cart.variations_form");n("body").trigger("ns_add_nasa_img_loading",[a]),n("body").trigger("load_mini_popup");var i=n(".nasa-main-image-default-wrap").parents(".product-images-slider"),s=n(".main-images .item-wrap:not(.slick-cloned)").length,e=n(i).find(".ns-img-count .ns-img-now"),o=n(i).find(".ns-img-count .ns-img-total");n(e).text("1"),n(o).text(s),n(i).find(".nasa-single-arrow").length&&(n(i).find('.nasa-single-arrow[data-action="prev"]').addClass("nasa-disabled"),s>1?n(i).find('.nasa-single-arrow[data-action="next"]').removeClass("nasa-disabled"):n(i).find('.nasa-single-arrow[data-action="next"]').addClass("nasa-disabled"))}),n("body").on("click",".ns-form-close",function(){var a=n(this).parents("form");if(n(a).removeClass("ns-show"),n(a).hasClass("ns_add_to_cart_button_show")&&setTimeout(function(){n(a).removeClass("ns_add_to_cart_button_show")},400),n(a).hasClass("ns_buy_now_button_show")&&setTimeout(function(){n(a).removeClass("ns_buy_now_button_show")},400),n(this).hasClass("close-review-form")){var a=n(this).parents("#review_form_wrapper");n(a).removeClass("ns-show")}n(".black-window").fadeOut(400).removeClass("desk-window"),n("body").removeClass("ovhd")}),n("body").on("added_to_cart",function(){n("form.cart .ns-form-close").length&&n("form.cart .ns-form-close").trigger("click"),n(".ns_btn-fixed .single_add_to_cart_button").removeClass("loading")}),n("body").on("nasa_single_gallery_after_change",function(a,i){var s=n(i).parents(".product-images-slider");if(n(s).find(".ns-img-count .ns-img-now").length){var e=n(s).find(".nasa-single-product-main-image"),o=n(s).find(".ns-img-count .ns-img-now"),t=n(e).find(".slick-track .item-wrap.slick-slide.slick-active");n(o).text(parseInt(t.attr("data-slick-index"))+1)}}),n("body").on("load_mini_popup",function(){var a=[],i=n("body").find(".main-images .item-wrap.first  .product-image").attr("href");n("body").find(".main-images .item-wrap:not(.first) .product-image").each(function(){var i=n(this);a.push(n(i).attr("href"))}),n(".main_min_img").magnificPopup({items:{src:i},type:"image",closeOnContentClick:!0,closeMarkup:'<a class="nasa-mfp-close nasa-stclose" href="javascript:void(0);" title="'+n('input[name="nasa-close-string"]').val()+'"></a>',gallery:{enabled:!0,navigateByImgClick:!1,preload:[0,1],tCounter:'<div class="mfp-counter">%curr% / %total%</div>'},image:{verticalFit:!1,tError:'<a href="%url%">The image #%curr%</a> could not be loaded.'},callbacks:{beforeOpen:function(){var i=n.magnificPopup.instance;n.each(a,function(n,a){i.items.push({src:a,type:"image"})}),i.updateItemHTML()},open:function(){}}})}),n("body").on("show_variation",function(){var a=n(".nasa-single-product-in-mobile form.cart.variations_form");n("body").trigger("ns_add_nasa_price_loading",[a]),n("body").trigger("ns_variants_clone_render",[a])}),n("body").on("reset_data",function(){var a=n(".nasa-single-product-in-mobile form.cart.variations_form");n(a).find(".ns-form-info .ns-info-wrap .stock").length&&n(a).find(".ns-form-info .ns-info-wrap .stock").remove(),n(".price.org-price").show(),n(".price.sub-price").remove(),n("body").trigger("ns_variants_clone_render",[a])}),n("body").on("ns_bulk_discount_changed",function(){var a=n(".nasa-single-product-in-mobile form.cart.variations_form");if(n(a).find(".nasa-variation-bulk-dsct").length<=0&&n(".nasa-single-product-in-mobile .nasa-variation-bulk-dsct").length){var i=n(".nasa-single-product-in-mobile .nasa-variation-bulk-dsct");n(a).find(".ns-info-variants .variations").after(i)}n("body").trigger("ns_add_nasa_price_loading",[a])}),n("body").on("click",".ns-btn-read-more",function(){var a=n(this),i=n(a).parents(".ns-tab-item");n(i).hasClass("ns-row-active")?(n(i).removeClass("ns-row-active"),n("body").trigger("nasa_animate_scroll_to_top",[n,i,500]),n(a).html(n(a).attr("data-show-more"))):(n(i).addClass("ns-row-active"),n(a).html(n(a).attr("data-show-less")))}),n("body").on("ns_add_read_more",function(){if(n(".woocommerce-tabs .ns-tab-item").length&&n("#tmp-read-more-tab").length){var a=n("#tmp-read-more-tab").html();n(".woocommerce-tabs .ns-tab-item").each(function(){var i=n(this);n(i).find(".ns-read-more").length<=0&&n(i).append(a),n(i).find(".nasa-content-accessories_content, .nasa-content-additional_information, .cr-reviews-ajax-reviews").length&&(n(i).removeClass("ns-tab-item"),n(i).addClass("ns-tab-no-read-more")),n(i).find(".nasa-content-reviews").length&&n(i).addClass("ns-tab-reviews")})}}).trigger("ns_add_read_more"),n("body").on("nasa_after_loaded_ajax_complete",function(){n("body").find(".ns_btn-fixed").length&&n("body").find(".ns_btn-fixed").remove(),n("body").trigger("ns_btns_fixed"),n("body").trigger("ns_hide_simple_cart_form"),n("body").trigger("ns_variation_form_fixed"),n("body").trigger("ns_add_read_more")}),n("body").on("touchstart",".mfp-container",function(n){i=n.touches[0].clientX}),n("body").on("touchend",".mfp-container",function(a){s=a.changedTouches[0].clientX,i!=s&&0!=i&&Math.abs(i-s)>e&&(i>s?n(".mfp-arrow.mfp-arrow-right").trigger("click"):n(".mfp-arrow.mfp-arrow-left").trigger("click")),s=0,i=0}),n("body").on("touchstart",".variations_form, #nasa-content-size-guide, #nasa-content-delivery-return, #nasa-content-ask-a-quetion, #review_form_wrapper, #nasa-content-request-a-callback",function(a){var s=n(this).find(".ns-inct").scrollTop();if(n(a.target).parents(".nasa-popup-content-contact").length&&(s=n(this).find(".nasa-wrap").scrollTop(),"your-message"==n(a.target).attr("name"))){var e=n(a.target).scrollTop();e>0&&(s=100)}if(n(a.target).parents(".variations_form").length&&(s=n(this).find(".ns-info-variants").scrollTop()),n(a.target).parents("#review_form_wrapper").length&&(s=n(this).scrollTop(),"comment"==n(a.target).attr("id"))){var e=n(a.target).scrollTop();e>0&&(s=100)}console.log(n(a.target)),(n(a.target).hasClass("nasa-product")||"nasa-content-size-guide"==n(a.target).attr("id")||"nasa-content-delivery-return"==n(a.target).attr("id"))&&(s=0),0>=s&&(i=a.touches[0].clientY)}),n("body").on("touchend",".variations_form, #nasa-content-size-guide, #nasa-content-delivery-return, #nasa-content-ask-a-quetion, #review_form_wrapper, #nasa-content-request-a-callback",function(a){s=a.changedTouches[0].clientY,i!=s&&0!=i&&Math.abs(i-s)>e&&s>i&&n(this).find("a.nasa-stclose").trigger("click"),s=0,i=0}),n("body").on("click",".svg_image_upload",function(){n("#nasa-comment-media").trigger("click")}),n(".related-product .nasa-title-relate").length&&n(".related-product .nasa-title-relate").removeClass("text-center")});